# "æŠŠå†³ç­–ä¼ ç»™å¸‚åœº" å®Œæ•´æµç¨‹è¯¦è§£

## ğŸ“– æ ¸å¿ƒæ¦‚å¿µè§£é‡Š

### 1. "å¸‚åœº"æ˜¯ä»€ä¹ˆï¼Ÿ

**"å¸‚åœº" = Roostoo äº¤æ˜“å¹³å°**

- Roostoo æ˜¯ä¸€ä¸ª**åŠ å¯†è´§å¸äº¤æ˜“å¹³å°**ï¼ˆç±»ä¼¼äºå¸å®‰ã€Coinbaseç­‰äº¤æ˜“æ‰€ï¼‰
- è¿™ä¸ªå¹³å°æä¾›äº†ä¸€ä¸ª**æ¨¡æ‹Ÿäº¤æ˜“ç¯å¢ƒ**ï¼ˆç”¨äºæ¯”èµ›ï¼‰
- ä½ çš„AIæœºå™¨äººéœ€è¦åœ¨è¿™ä¸ªå¹³å°ä¸Š**è‡ªåŠ¨æ‰§è¡Œäº¤æ˜“**

### 2. "ä¼ "æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

**"ä¼ " = é€šè¿‡ HTTP API è°ƒç”¨å‘é€äº¤æ˜“æŒ‡ä»¤**

- ä¸æ˜¯å‘é‚®ä»¶ã€å‘æ¶ˆæ¯
- è€Œæ˜¯**ç¨‹åºè‡ªåŠ¨è°ƒç”¨ Roostoo å¹³å°æä¾›çš„ API æ¥å£**
- ä½¿ç”¨ HTTP POST è¯·æ±‚å‘é€äº¤æ˜“æŒ‡ä»¤ï¼ˆä¹°å…¥/å–å‡ºï¼‰

---

## ğŸ”„ å®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤1: AI ç”Ÿæˆå†³ç­–                                               â”‚
â”‚                                                                  â”‚
â”‚  AI Agent (BaseAgent)                                           â”‚
â”‚    â†“                                                             â”‚
â”‚  è°ƒç”¨ LLM (DeepSeek/Qwen/Minimax)                               â”‚
â”‚    â†“                                                             â”‚
â”‚  ç”Ÿæˆå†³ç­–æ–‡æœ¬: "buy 0.01 BTC" æˆ–                                â”‚
â”‚            {"action": "buy", "quantity": 0.01, ...}            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤2: å†³ç­–å‘å¸ƒåˆ°æ¶ˆæ¯æ€»çº¿                                        â”‚
â”‚                                                                  â”‚
â”‚  MessageBus (topic: "decisions")                                â”‚
â”‚    â†“                                                             â”‚
â”‚  å†³ç­–æ¶ˆæ¯: {                                                    â”‚
â”‚    "agent": "TradingAgent1",                                   â”‚
â”‚    "decision": "buy 0.01 BTC",                                 â”‚
â”‚    "timestamp": 1234567890.0                                   â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤3: äº¤æ˜“æ‰§è¡Œå™¨æ¥æ”¶å†³ç­–                                        â”‚
â”‚                                                                  â”‚
â”‚  TradeExecutor / EnhancedTradeExecutor                          â”‚
â”‚    â†“                                                             â”‚
â”‚  è§£æå†³ç­–æ–‡æœ¬ â†’ æå–äº¤æ˜“å‚æ•°:                                   â”‚
â”‚    side: "BUY"                                                  â”‚
â”‚    quantity: 0.01                                               â”‚
â”‚    pair: "BTC/USD"                                              â”‚
â”‚    price: None (å¸‚ä»·å•)                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤4: è°ƒç”¨ RoostooClient ä¸‹å•                                  â”‚
â”‚                                                                  â”‚
â”‚  RoostooClient.place_order(                                     â”‚
â”‚    pair="BTC/USD",                                              â”‚
â”‚    side="BUY",                                                  â”‚
â”‚    quantity=0.01                                                â”‚
â”‚  )                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤5: æ„å»º HTTP POST è¯·æ±‚                                      â”‚
â”‚                                                                  â”‚
â”‚  1. æ„å»ºè¯·æ±‚å‚æ•°:                                               â”‚
â”‚     {                                                           â”‚
â”‚       "pair": "BTC/USD",                                        â”‚
â”‚       "side": "BUY",                                            â”‚
â”‚       "quantity": "0.01",                                       â”‚
â”‚       "order_type": "MARKET",                                   â”‚
â”‚       "timestamp": "1234567890123"                              â”‚
â”‚     }                                                           â”‚
â”‚                                                                  â”‚
â”‚  2. ç”Ÿæˆç­¾å (HMAC-SHA256):                                     â”‚
â”‚     ä½¿ç”¨ SECRET_KEY å¯¹å‚æ•°ç­¾å                                  â”‚
â”‚                                                                  â”‚
â”‚  3. æ„å»º HTTP è¯·æ±‚å¤´:                                           â”‚
â”‚     RST-API-KEY: your_api_key                                   â”‚
â”‚     MSG-SIGNATURE: signature_string                             â”‚
â”‚     Content-Type: application/x-www-form-urlencoded            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤6: å‘é€ HTTP POST è¯·æ±‚åˆ° Roostoo API                        â”‚
â”‚                                                                  â”‚
â”‚  POST https://api.roostoo.com/v3/place_order                    â”‚
â”‚                                                                  â”‚
â”‚  Body (form-urlencoded):                                        â”‚
â”‚    pair=BTC%2FUSD&side=BUY&quantity=0.01&...                   â”‚
â”‚                                                                  â”‚
â”‚  Headers:                                                       â”‚
â”‚    RST-API-KEY: your_api_key                                    â”‚
â”‚    MSG-SIGNATURE: signature                                     â”‚
â”‚    Content-Type: application/x-www-form-urlencoded             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤7: Roostoo å¹³å°æ¥æ”¶è¯·æ±‚å¹¶æ‰§è¡Œäº¤æ˜“                           â”‚
â”‚                                                                  â”‚
â”‚  Roostoo å¹³å°:                                                  â”‚
â”‚    1. éªŒè¯ API Key å’Œç­¾å                                       â”‚
â”‚    2. æ£€æŸ¥è´¦æˆ·ä½™é¢                                              â”‚
â”‚    3. æ‰§è¡Œäº¤æ˜“ï¼ˆä¹°å…¥/å–å‡ºï¼‰                                     â”‚
â”‚    4. æ›´æ–°è´¦æˆ·ä½™é¢                                              â”‚
â”‚    5. è¿”å›è®¢å•ç»“æœ:                                             â”‚
â”‚       {                                                         â”‚
â”‚         "order_id": "12345",                                    â”‚
â”‚         "status": "filled",                                     â”‚
â”‚         "price": 50000.0,                                       â”‚
â”‚         "quantity": 0.01                                        â”‚
â”‚       }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤8: äº¤æ˜“ç»“æœè¿”å›ç»™ç¨‹åº                                        â”‚
â”‚                                                                  â”‚
â”‚  ç¨‹åºæ”¶åˆ°å“åº”ï¼Œè®°å½•æ‰§è¡Œç»“æœ:                                    â”‚
â”‚    - è®¢å•ID                                                     â”‚
â”‚    - æ‰§è¡ŒçŠ¶æ€                                                   â”‚
â”‚    - æˆäº¤ä»·æ ¼                                                   â”‚
â”‚    - æ‰§è¡Œæ—¶é—´                                                   â”‚
â”‚                                                                  â”‚
â”‚  å¯é€‰: å­˜å‚¨åˆ°æ•°æ®åº“ï¼ˆå¦‚æœä½¿ç”¨ EnhancedTradeExecutorï¼‰          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’» ä»£ç å®ç°è¯¦è§£

### 1. AI ç”Ÿæˆå†³ç­–

```python
# api/agents/base_agent.py
class BaseAgent:
    def _generate_decision(self, user_prompt: str):
        # è°ƒç”¨ LLM ç”Ÿæˆå†³ç­–
        llm_out = self.llm.chat(messages, temperature=0.3, max_tokens=512)
        decision_text = llm_out.get("content")  # ä¾‹å¦‚: "buy 0.01 BTC"
        
        # å‘å¸ƒåˆ°æ¶ˆæ¯æ€»çº¿
        decision = {
            "agent": self.name,
            "decision": decision_text,
            "timestamp": time.time()
        }
        self.bus.publish("decisions", decision)  # ğŸ‘ˆ å‘å¸ƒå†³ç­–
```

### 2. äº¤æ˜“æ‰§è¡Œå™¨æ¥æ”¶å¹¶è§£æå†³ç­–

```python
# api/agents/executor.py
class TradeExecutor:
    def run(self):
        while not self._stopped:
            # ä»æ¶ˆæ¯æ€»çº¿æ¥æ”¶å†³ç­–
            msg = self.decision_sub.recv(timeout=0.5)  # ğŸ‘ˆ æ¥æ”¶å†³ç­–
            if msg:
                self._maybe_execute(msg)
    
    def _maybe_execute(self, decision_msg):
        # è§£æå†³ç­–æ–‡æœ¬ â†’ æå–äº¤æ˜“å‚æ•°
        parsed = self._parse_decision(decision_msg)
        # è¿”å›: {"side": "BUY", "quantity": 0.01, "pair": "BTC/USD", "price": None}
        
        # è°ƒç”¨ RoostooClient ä¸‹å•
        if not self.dry_run:
            resp = self.client.place_order(
                pair=parsed["pair"],
                side=parsed["side"],
                quantity=parsed["quantity"]
            )  # ğŸ‘ˆ è¿™é‡Œå°±æ˜¯"ä¼ ç»™å¸‚åœº"çš„å…³é”®æ­¥éª¤ï¼
```

### 3. RoostooClient æ„å»º HTTP è¯·æ±‚

```python
# api/roostoo_client.py
class RoostooClient:
    def place_order(self, pair: str, side: str, quantity: float, price: Optional[float] = None):
        # 1. æ„å»ºè¯·æ±‚å‚æ•°
        payload = {
            'pair': pair,           # "BTC/USD"
            'side': side.upper(),   # "BUY" æˆ– "SELL"
            'quantity': str(quantity),  # "0.01"
        }
        
        if price is not None:
            payload['order_type'] = 'LIMIT'
            payload['price'] = str(price)
        else:
            payload['order_type'] = 'MARKET'
        
        # 2. ç”Ÿæˆç­¾åï¼ˆä½¿ç”¨ HMAC-SHA256ï¼‰
        headers, data_string = self._sign_request(payload)
        headers['Content-Type'] = 'application/x-www-form-urlencoded'
        
        # 3. å‘é€ HTTP POST è¯·æ±‚åˆ° Roostoo API
        return self._request('POST', '/v3/place_order', headers=headers, data=data_string)
        # ğŸ‘† è¿™å°±æ˜¯"ä¼ ç»™å¸‚åœº"çš„å®é™…æ“ä½œï¼šå‘é€ HTTP è¯·æ±‚åˆ° Roostoo å¹³å°
```

### 4. HTTP è¯·æ±‚è¯¦æƒ…

**è¯·æ±‚ URL**: `https://api.roostoo.com/v3/place_order`

**è¯·æ±‚æ–¹æ³•**: `POST`

**è¯·æ±‚å¤´**:
```
RST-API-KEY: your_roostoo_api_key
MSG-SIGNATURE: hmac_sha256_signature
Content-Type: application/x-www-form-urlencoded
```

**è¯·æ±‚ä½“** (form-urlencoded):
```
pair=BTC%2FUSD&side=BUY&quantity=0.01&order_type=MARKET&timestamp=1234567890123
```

**å“åº”** (JSON):
```json
{
  "order_id": "12345",
  "status": "filled",
  "pair": "BTC/USD",
  "side": "BUY",
  "quantity": 0.01,
  "price": 50000.0,
  "timestamp": 1234567890123
}
```

---

## ğŸ” å…³é”®é—®é¢˜è§£ç­”

### Q1: "å¸‚åœº"åœ¨å“ªé‡Œï¼Ÿ

**A**: "å¸‚åœº"å°±æ˜¯ **Roostoo äº¤æ˜“å¹³å°**ï¼Œå®ƒæ˜¯ä¸€ä¸ªåœ¨çº¿çš„åŠ å¯†è´§å¸äº¤æ˜“å¹³å°ã€‚

- **URL**: `https://api.roostoo.com`ï¼ˆçœŸå®APIï¼‰æˆ– `https://mock-api.roostoo.com`ï¼ˆæ¨¡æ‹ŸAPIï¼‰
- **åŠŸèƒ½**: æä¾›äº¤æ˜“æ¥å£ï¼Œå¯ä»¥ä¹°å…¥/å–å‡ºåŠ å¯†è´§å¸
- **ç¯å¢ƒ**: æ¯”èµ›ä½¿ç”¨çš„æ˜¯æ¨¡æ‹Ÿäº¤æ˜“ç¯å¢ƒï¼Œä¸ä¼šç”¨çœŸå®èµ„é‡‘

### Q2: "ä¼ "æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ

**A**: é€šè¿‡ **HTTP POST è¯·æ±‚**è°ƒç”¨ Roostoo APIã€‚

**å…·ä½“æ­¥éª¤**:
1. ç¨‹åºè°ƒç”¨ `RoostooClient.place_order()`
2. `RoostooClient` æ„å»º HTTP POST è¯·æ±‚
3. æ·»åŠ  API Key å’Œç­¾åï¼ˆç”¨äºèº«ä»½éªŒè¯ï¼‰
4. å‘é€è¯·æ±‚åˆ° `https://api.roostoo.com/v3/place_order`
5. Roostoo å¹³å°æ¥æ”¶è¯·æ±‚ï¼ŒéªŒè¯èº«ä»½ï¼Œæ‰§è¡Œäº¤æ˜“
6. è¿”å›äº¤æ˜“ç»“æœ

### Q3: éœ€è¦ä»€ä¹ˆä¿¡æ¯æ‰èƒ½"ä¼ "ï¼Ÿ

**A**: éœ€è¦ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **API å‡­è¯**:
   - `ROOSTOO_API_KEY`: ä½ çš„ API å¯†é’¥
   - `ROOSTOO_SECRET_KEY`: ä½ çš„ Secret å¯†é’¥

2. **API URL**:
   - `ROOSTOO_API_URL`: Roostoo API çš„åœ°å€
   - çœŸå®ç¯å¢ƒ: `https://api.roostoo.com`
   - æµ‹è¯•ç¯å¢ƒ: `https://mock-api.roostoo.com`

3. **äº¤æ˜“å‚æ•°**:
   - `pair`: äº¤æ˜“å¯¹ï¼ˆå¦‚ "BTC/USD"ï¼‰
   - `side`: ä¹°å–æ–¹å‘ï¼ˆ"BUY" æˆ– "SELL"ï¼‰
   - `quantity`: æ•°é‡ï¼ˆå¦‚ 0.01ï¼‰
   - `price`: ä»·æ ¼ï¼ˆå¯é€‰ï¼Œé™ä»·å•éœ€è¦ï¼‰

### Q4: ä»£ç åœ¨å“ªé‡Œï¼Ÿ

**A**: å…³é”®ä»£ç ä½ç½®ï¼š

1. **å†³ç­–ç”Ÿæˆ**: `api/agents/base_agent.py` - `_generate_decision()`
2. **å†³ç­–è§£æ**: `api/agents/executor.py` - `_parse_decision()`
3. **ä¸‹å•è°ƒç”¨**: `api/agents/executor.py` - `_maybe_execute()`
4. **API å®¢æˆ·ç«¯**: `api/roostoo_client.py` - `place_order()`
5. **HTTP è¯·æ±‚**: `api/roostoo_client.py` - `_request()`

### Q5: å¦‚ä½•æµ‹è¯•ï¼Ÿ

**A**: æœ‰ä¸¤ç§æµ‹è¯•æ–¹å¼ï¼š

1. **æµ‹è¯•æ¨¡å¼ï¼ˆdry_run=Trueï¼‰**:
   ```python
   executor = TradeExecutor(bus, "decisions", dry_run=True)
   # åªæ‰“å°ä¸‹å•å‚æ•°ï¼Œä¸çœŸæ­£è°ƒç”¨ API
   ```

2. **çœŸå®æ¨¡å¼ï¼ˆdry_run=Falseï¼‰**:
   ```python
   executor = TradeExecutor(bus, "decisions", dry_run=False)
   # çœŸæ­£è°ƒç”¨ Roostoo APIï¼Œä½†éœ€è¦ä½¿ç”¨çœŸå®çš„ API URL
   ```

---

## ğŸ“ é…ç½®æ­¥éª¤

### æ­¥éª¤1: è·å– Roostoo API å‡­è¯

1. ç™»å½• Roostoo å¹³å°
2. è·å– API Key å’Œ Secret Key
3. å°†å‡­è¯æ·»åŠ åˆ° `.env` æ–‡ä»¶

### æ­¥éª¤2: é…ç½® .env æ–‡ä»¶

```env
# Roostoo API å‡­è¯
ROOSTOO_API_KEY=your_roostoo_api_key
ROOSTOO_SECRET_KEY=your_roostoo_secret_key

# Roostoo API URL
# æµ‹è¯•ç¯å¢ƒï¼ˆæ¨¡æ‹Ÿäº¤æ˜“ï¼‰
ROOSTOO_API_URL=https://mock-api.roostoo.com

# ç”Ÿäº§ç¯å¢ƒï¼ˆçœŸå®äº¤æ˜“ï¼‰
# ROOSTOO_API_URL=https://api.roostoo.com
```

### æ­¥éª¤3: è¿è¡Œç¨‹åº

```python
from api.agents.bus import MessageBus
from api.agents.executor import TradeExecutor

# åˆ›å»ºæ¶ˆæ¯æ€»çº¿
bus = MessageBus()

# åˆ›å»ºäº¤æ˜“æ‰§è¡Œå™¨
executor = TradeExecutor(
    bus=bus,
    decision_topic="decisions",
    default_pair="BTC/USD",
    dry_run=False  # çœŸå®æ¨¡å¼
)

# å¯åŠ¨æ‰§è¡Œå™¨
executor.start()

# AI Agent ä¼šè‡ªåŠ¨ç”Ÿæˆå†³ç­–ï¼Œæ‰§è¡Œå™¨ä¼šè‡ªåŠ¨ä¸‹å•
```

---

## ğŸ¯ æ€»ç»“

### "æŠŠå†³ç­–ä¼ ç»™å¸‚åœº" = "é€šè¿‡ HTTP API è°ƒç”¨ Roostoo å¹³å°ä¸‹å•"

**å®Œæ•´æµç¨‹**:
1. AI ç”Ÿæˆå†³ç­–æ–‡æœ¬
2. è§£æå†³ç­–æ–‡æœ¬ï¼Œæå–äº¤æ˜“å‚æ•°
3. è°ƒç”¨ `RoostooClient.place_order()`
4. `RoostooClient` æ„å»º HTTP POST è¯·æ±‚
5. å‘é€è¯·æ±‚åˆ° Roostoo API
6. Roostoo å¹³å°æ‰§è¡Œäº¤æ˜“
7. è¿”å›äº¤æ˜“ç»“æœ

**å…³é”®ä»£ç **:
- `api/roostoo_client.py` - `place_order()` æ–¹æ³•
- `api/agents/executor.py` - `_maybe_execute()` æ–¹æ³•

**éœ€è¦çš„ä¿¡æ¯**:
- API Key å’Œ Secret Key
- API URLï¼ˆçœŸå®æˆ–æ¨¡æ‹Ÿï¼‰
- äº¤æ˜“å‚æ•°ï¼ˆpair, side, quantity, priceï¼‰

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [REAL_TRADING_SETUP.md](./REAL_TRADING_SETUP.md) - çœŸå®äº¤æ˜“è®¾ç½®æŒ‡å—
- [api/roostoo_client.py](./api/roostoo_client.py) - Roostoo API å®¢æˆ·ç«¯
- [api/agents/executor.py](./api/agents/executor.py) - äº¤æ˜“æ‰§è¡Œå™¨
- [api/agents/enhanced_executor.py](./api/agents/enhanced_executor.py) - å¢å¼ºç‰ˆæ‰§è¡Œå™¨

---

## â“ è¿˜éœ€è¦ä»€ä¹ˆä¿¡æ¯ï¼Ÿ

å¦‚æœä½ è¿˜æœ‰ç–‘é—®ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼š

1. **Roostoo API æ–‡æ¡£**: ä½ æ˜¯å¦æœ‰ Roostoo å¹³å°çš„è¯¦ç»† API æ–‡æ¡£ï¼Ÿ
2. **API URL**: çœŸå®çš„ Roostoo API URL æ˜¯ä»€ä¹ˆï¼Ÿ
3. **è®¤è¯æ–¹å¼**: API è®¤è¯æ–¹å¼æ˜¯å¦ä¸ä»£ç ä¸­çš„å®ç°ä¸€è‡´ï¼Ÿ
4. **æµ‹è¯•ç¯å¢ƒ**: æ˜¯å¦æœ‰æµ‹è¯•ç¯å¢ƒå¯ä»¥æµ‹è¯•ï¼Ÿ
5. **å…¶ä»–é—®é¢˜**: è¿˜æœ‰ä»€ä¹ˆä¸æ¸…æ¥šçš„åœ°æ–¹ï¼Ÿ


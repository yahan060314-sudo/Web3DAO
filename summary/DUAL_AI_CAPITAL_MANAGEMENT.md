# åŒAIèµ„é‡‘ç®¡ç†åŠŸèƒ½è¯´æ˜

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

å®ç°äº†åˆå§‹èµ„é‡‘50000 USDï¼Œå¹³å‡åˆ†é…ç»™Qwenå’ŒDeepSeekä¸¤ä¸ªAIè¿›è¡Œäº¤æ˜“çš„èµ„é‡‘ç®¡ç†ç³»ç»Ÿã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### 1. èµ„æœ¬ç®¡ç†å™¨ (CapitalManager)

- **åˆå§‹èµ„é‡‘ç®¡ç†**: é»˜è®¤50000 USD
- **èµ„é‡‘åˆ†é…**: æ”¯æŒä¸ºæ¯ä¸ªAgentåˆ†é…èµ„é‡‘é¢åº¦
- **èµ„é‡‘è·Ÿè¸ª**: å®æ—¶è·Ÿè¸ªæ¯ä¸ªAgentçš„èµ„é‡‘ä½¿ç”¨æƒ…å†µ
- **èµ„é‡‘é¢„ç•™**: äº¤æ˜“å‰é¢„ç•™èµ„é‡‘ï¼Œäº¤æ˜“å¤±è´¥æ—¶é‡Šæ”¾
- **çº¿ç¨‹å®‰å…¨**: ä½¿ç”¨é”æœºåˆ¶ä¿è¯å¹¶å‘å®‰å…¨

### 2. åŒAIé…ç½®

- **Qwen Agent**: åˆ†é…25000 USD
- **DeepSeek Agent**: åˆ†é…25000 USD
- **ç‹¬ç«‹å†³ç­–**: ä¸¤ä¸ªAIç‹¬ç«‹æ€è€ƒå’Œæ“ä½œ
- **å…±äº«å¸‚åœºæ•°æ®**: ä¸¤ä¸ªAIå…±äº«ç›¸åŒçš„å¸‚åœºæ•°æ®

### 3. èµ„é‡‘é™åˆ¶æ‰§è¡Œ

- **èµ„é‡‘æ£€æŸ¥**: æ‰§è¡Œäº¤æ˜“å‰æ£€æŸ¥å¯ç”¨èµ„é‡‘
- **èµ„é‡‘é¢„ç•™**: äº¤æ˜“å‰é¢„ç•™èµ„é‡‘ï¼Œé˜²æ­¢è¶…æ”¯
- **èµ„é‡‘é‡Šæ”¾**: äº¤æ˜“å¤±è´¥æ—¶é‡Šæ”¾é¢„ç•™èµ„é‡‘
- **èµ„é‡‘è·Ÿè¸ª**: å®æ—¶è·Ÿè¸ªæ¯ä¸ªAgentçš„èµ„é‡‘ä½¿ç”¨æƒ…å†µ

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1: ä½¿ç”¨ç¤ºä¾‹è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
python api/agents/dual_ai_example.py
```

### æ–¹æ³•2: ä»£ç é›†æˆ

```python
from api.agents.capital_manager import CapitalManager
from api.agents.manager import AgentManager
from api.agents.enhanced_executor import EnhancedTradeExecutor

# 1. åˆ›å»ºèµ„æœ¬ç®¡ç†å™¨
capital_manager = CapitalManager(initial_capital=50000.0)

# 2. ä¸ºä¸¤ä¸ªAIåˆ†é…èµ„é‡‘
agent_names = ["qwen_agent", "deepseek_agent"]
allocations = capital_manager.allocate_equal(agent_names)

# 3. åˆ›å»ºAgentç®¡ç†å™¨
manager = AgentManager()

# 4. æ·»åŠ Qwen Agent
manager.add_agent(
    name="qwen_agent",
    system_prompt="You are a trading assistant using Qwen AI.",
    llm_provider="qwen",
    allocated_capital=25000.0
)

# 5. æ·»åŠ DeepSeek Agent
manager.add_agent(
    name="deepseek_agent",
    system_prompt="You are a trading assistant using DeepSeek AI.",
    llm_provider="deepseek",
    allocated_capital=25000.0
)

# 6. åˆ›å»ºæ‰§è¡Œå™¨ï¼ˆä¼ å…¥èµ„æœ¬ç®¡ç†å™¨ï¼‰
executor = EnhancedTradeExecutor(
    bus=bus,
    decision_topic=manager.decision_topic,
    capital_manager=capital_manager,
    dry_run=True  # æµ‹è¯•æ¨¡å¼
)

# 7. å¯åŠ¨æ‰€æœ‰ç»„ä»¶
manager.start()
executor.start()
```

## ğŸ“Š èµ„é‡‘ç®¡ç†æµç¨‹

```
1. åˆå§‹åŒ–èµ„æœ¬ç®¡ç†å™¨ (50000 USD)
   â†“
2. å¹³å‡åˆ†é…èµ„é‡‘ç»™ä¸¤ä¸ªAI (å„25000 USD)
   â†“
3. Agentç”Ÿæˆäº¤æ˜“å†³ç­–
   â†“
4. æ‰§è¡Œå™¨æ£€æŸ¥å¯ç”¨èµ„é‡‘
   â†“
5. é¢„ç•™èµ„é‡‘ï¼ˆå¦‚æœè¶³å¤Ÿï¼‰
   â†“
6. æ‰§è¡Œäº¤æ˜“
   â†“
7. æ›´æ–°èµ„é‡‘ä½¿ç”¨æƒ…å†µ
```

## ğŸ” èµ„é‡‘æ£€æŸ¥é€»è¾‘

### äº¤æ˜“å‰æ£€æŸ¥

1. **å¯ç”¨èµ„é‡‘æ£€æŸ¥**: æ£€æŸ¥Agentçš„å¯ç”¨èµ„é‡‘æ˜¯å¦è¶³å¤Ÿ
2. **èµ„é‡‘é¢„ç•™**: å¦‚æœè¶³å¤Ÿï¼Œé¢„ç•™èµ„é‡‘
3. **äº¤æ˜“æ‰§è¡Œ**: æ‰§è¡Œäº¤æ˜“
4. **èµ„é‡‘é‡Šæ”¾**: å¦‚æœäº¤æ˜“å¤±è´¥ï¼Œé‡Šæ”¾é¢„ç•™èµ„é‡‘

### èµ„é‡‘é™åˆ¶

- æ¯ä¸ªAgentåªèƒ½ä½¿ç”¨è‡ªå·±åˆ†é…çš„èµ„é‡‘é¢åº¦
- å¦‚æœå¯ç”¨èµ„é‡‘ä¸è¶³ï¼Œäº¤æ˜“å°†è¢«æ‹’ç»
- èµ„é‡‘ä½¿ç”¨æƒ…å†µå®æ—¶æ›´æ–°

## ğŸ“ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

```env
# Qwen API
QWEN_API_KEY=your_qwen_api_key

# DeepSeek API
DEEPSEEK_API_KEY=your_deepseek_api_key

# Roostoo API
ROOSTOO_API_KEY=your_roostoo_api_key
ROOSTOO_SECRET_KEY=your_roostoo_secret_key
ROOSTOO_API_URL=https://api.roostoo.com
```

### ä»£ç é…ç½®

```python
# åˆå§‹èµ„é‡‘
initial_capital = 50000.0

# Agenté…ç½®
qwen_capital = 25000.0
deepseek_capital = 25000.0

# æ‰§è¡Œå™¨é…ç½®
dry_run = True  # æµ‹è¯•æ¨¡å¼ï¼Œä¸ä¼šçœŸæ­£ä¸‹å•
```

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜1: èµ„é‡‘ä¸è¶³

**é”™è¯¯**: `å¯ç”¨èµ„é‡‘ä¸è¶³: 25000.00 USD < 30000.00 USD`

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥Agentçš„èµ„é‡‘åˆ†é…
2. å‡å°‘äº¤æ˜“æ•°é‡
3. è°ƒæ•´äº¤æ˜“ç­–ç•¥

### é—®é¢˜2: èµ„é‡‘é¢„ç•™å¤±è´¥

**é”™è¯¯**: `èµ„é‡‘é¢„ç•™å¤±è´¥`

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥èµ„é‡‘ç®¡ç†å™¨çŠ¶æ€
2. æ£€æŸ¥å¹¶å‘äº¤æ˜“æƒ…å†µ
3. å¢åŠ èµ„é‡‘é¢åº¦

### é—®é¢˜3: Agentæ— æ³•ç”Ÿæˆå†³ç­–

**é”™è¯¯**: `No decisions received`

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥LLM APIè¿æ¥
2. æ£€æŸ¥APIå¯†é’¥
3. å¢åŠ ç­‰å¾…æ—¶é—´

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `api/agents/capital_manager.py` - èµ„æœ¬ç®¡ç†å™¨
- `api/agents/manager.py` - Agentç®¡ç†å™¨ï¼ˆå·²æ›´æ–°æ”¯æŒèµ„é‡‘åˆ†é…ï¼‰
- `api/agents/base_agent.py` - AgentåŸºç±»ï¼ˆå·²æ›´æ–°æ”¯æŒLLMæä¾›å•†å’Œèµ„é‡‘é¢åº¦ï¼‰
- `api/agents/enhanced_executor.py` - å¢å¼ºç‰ˆæ‰§è¡Œå™¨ï¼ˆå·²æ›´æ–°æ”¯æŒèµ„é‡‘ç®¡ç†ï¼‰
- `api/agents/dual_ai_example.py` - åŒAIäº¤æ˜“ç¤ºä¾‹

## ğŸ‰ æµ‹è¯•

è¿è¡Œç¤ºä¾‹è„šæœ¬æµ‹è¯•åŠŸèƒ½ï¼š

```bash
python api/agents/dual_ai_example.py
```

**é¢„æœŸè¾“å‡º**:
```
================================================================================
åŒAIäº¤æ˜“ç³»ç»Ÿç¤ºä¾‹
================================================================================

é…ç½®:
  - åˆå§‹èµ„é‡‘: 50000 USD
  - Qwen AI: 25000 USD
  - DeepSeek AI: 25000 USD
  - æ¨¡å¼: dry_run (æµ‹è¯•æ¨¡å¼ï¼Œä¸ä¼šçœŸæ­£ä¸‹å•)

âœ“ æ¶ˆæ¯æ€»çº¿åˆ›å»ºæˆåŠŸ
âœ“ èµ„æœ¬ç®¡ç†å™¨åˆ›å»ºæˆåŠŸ
âœ“ èµ„é‡‘åˆ†é…å®Œæˆ: {'qwen_agent': 25000.0, 'deepseek_agent': 25000.0}
...
```

## ğŸ’¡ æç¤º

1. **æµ‹è¯•æ¨¡å¼**: ä½¿ç”¨ `dry_run=True` è¿›è¡Œæµ‹è¯•ï¼Œä¸ä¼šçœŸæ­£ä¸‹å•
2. **èµ„é‡‘è·Ÿè¸ª**: å®šæœŸæ£€æŸ¥èµ„é‡‘ä½¿ç”¨æƒ…å†µ
3. **èµ„é‡‘åˆ†é…**: å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´èµ„é‡‘åˆ†é…æ¯”ä¾‹
4. **å¹¶å‘å®‰å…¨**: èµ„é‡‘ç®¡ç†å™¨æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ”¯æŒå¹¶å‘äº¤æ˜“

